"use strict";var Y=Object.defineProperty,w=(l,p,s)=>p in l?Y(l,p,{enumerable:!0,configurable:!0,writable:!0,value:s}):l[p]=s,n=(l,p,s)=>(w(l,"symbol"!=typeof p?p+"":p,s),s);(self.webpackChunkpunto_digital=self.webpackChunkpunto_digital||[]).push([[514],{514:(l,p,s)=>{s.r(p),s.d(p,{PersonsModule:()=>m});var d=s(8583),_=s(2498),i=s(665),e=s(639),C=s(1453),f=s(5917),x=s(2340),g=s(8002),T=s(5304),F=s(1841);const Z=class{constructor(o){n(this,"http"),n(this,"url",x.N.endpoint_url),this.http=o}getTipDocs(){return this.http.get(`${this.url}/tipdoc`).pipe((0,g.U)(o=>o),(0,T.K)(()=>(0,f.of)([])))}updateTipDoc(o){return this.http.put(`${this.url}/tipdoc`,o).pipe((0,g.U)(t=>t),(0,T.K)(()=>(0,f.of)([{error:"No se pudo actualizar"}])))}createTipDoc(o){return this.http.post(`${this.url}/tipdoc`,o).pipe((0,g.U)(t=>t),(0,T.K)(()=>(0,f.of)([{error:"No se pudo crear"}])))}getTipDoc(o){return this.http.get(`${this.url}/tipdoc/${o}`).pipe((0,g.U)(t=>t),(0,T.K)(()=>(0,f.of)([])))}};let h=Z;n(h,"\u0275fac",function(t){return new(t||Z)(e.LFG(F.eN))}),n(h,"\u0275prov",e.Yz7({token:Z,factory:Z.\u0275fac,providedIn:"root"}));const q=function(r){return["/","personas",r]};function P(r,o){if(1&r){const t=e.EpF();e.TgZ(0,"article",5),e.TgZ(1,"div",6),e.TgZ(2,"h2",7),e._uU(3),e.qZA(),e.TgZ(4,"small",8),e._uU(5),e.qZA(),e.qZA(),e.TgZ(6,"div",9),e.TgZ(7,"p"),e._uU(8),e.qZA(),e.qZA(),e.TgZ(9,"button",10),e.NdJ("click",function(){const $=e.CHM(t).$implicit,I=e.oxw();return I.openEditor(),I.loadData($)}),e.TgZ(10,"span",11),e._uU(11,"edit"),e.qZA(),e._uU(12," Editar "),e.qZA(),e.qZA()}if(2&r){const t=o.$implicit;e.xp6(2),e.Q6J("routerLink",e.VKq(9,q,t.nick_name)),e.xp6(1),e.AsE("",t.Nombre1," ",t.Apellido1,""),e.xp6(2),e.AsE("",t.Iniciales_tip_doc,": ",t.Num_doc_Persona,""),e.xp6(3),e.HOy("Nombre Completo: ",t.Nombre1," ",t.Nombre2," ",t.Apellido1," ",t.Apellido2,"")}}function D(r,o){1&r&&(e.TgZ(0,"option",23),e._uU(1,"Seleccione una opci\xf3n"),e.qZA()),2&r&&e.Q6J("value",null)}function E(r,o){if(1&r&&(e.TgZ(0,"option",24),e._uU(1),e.qZA()),2&r){const t=o.$implicit;e.Q6J("value",t.Id_Tipo_Documento),e.xp6(1),e.AsE(" ",t.Iniciales_tip_doc," - ",t.Tipo_de_Documento," ")}}function O(r,o){if(1&r){const t=e.EpF();e.TgZ(0,"aside",12),e.TgZ(1,"form",13),e.NdJ("submit",function(){e.CHM(t);const a=e.oxw();return a.isCreateMode?a.createPerson():a.updatePerson()}),e.TgZ(2,"fieldset"),e.TgZ(3,"legend"),e.TgZ(4,"h2"),e._uU(5),e.qZA(),e.qZA(),e.TgZ(6,"label"),e._uU(7," Tipo de documento "),e.TgZ(8,"select",14),e.YNc(9,D,2,1,"option",15),e.YNc(10,E,2,3,"option",16),e.qZA(),e.qZA(),e.TgZ(11,"label"),e._uU(12," N\xfamero de documento "),e._UZ(13,"input",17),e.qZA(),e.TgZ(14,"label"),e._uU(15," Primer nombre "),e._UZ(16,"input",18),e.qZA(),e.TgZ(17,"label"),e._uU(18," Segundo nombre "),e._UZ(19,"input",19),e.qZA(),e.TgZ(20,"label"),e._uU(21," Primer apellido "),e._UZ(22,"input",20),e.qZA(),e.TgZ(23,"label"),e._uU(24," Segundo apellido "),e._UZ(25,"input",21),e.qZA(),e._UZ(26,"input",22),e.qZA(),e.qZA(),e.qZA()}if(2&r){const t=e.oxw();e.xp6(1),e.Q6J("formGroup",t.personForm),e.xp6(4),e.hij("",t.isCreateMode?"Crear":"Editar"," persona "),e.xp6(4),e.Q6J("ngIf",t.isCreateMode),e.xp6(1),e.Q6J("ngForOf",t.documentTypes),e.xp6(16),e.Q6J("value",t.isCreateMode?"Crear":"Editar")}}const N=class{constructor(o,t){n(this,"personService"),n(this,"tipDocsService"),n(this,"persons$"),n(this,"documentTypes"),n(this,"personForm",new i.cw({})),n(this,"isEditorOpen",!1),n(this,"isCreateMode",!1),this.personService=o,this.tipDocsService=t}ngOnInit(){this.persons$=this.personService.getPersons(),this.personForm=new i.cw({nick_name:new i.NI(0),Id_TipoDocumento:new i.NI(0),Iniciales_tip_doc:new i.NI(""),Num_doc_Persona:new i.NI(""),Nombre1:new i.NI(""),Nombre2:new i.NI(""),Apellido1:new i.NI(""),Apellido2:new i.NI("")})}loadData(o){this.isCreateMode=!1,this.tipDocsService.getTipDocs().subscribe(t=>{const c=t.find(a=>a.Iniciales_tip_doc===o.Iniciales_tip_doc);o.Id_TipoDocumento=c.Id_Tipo_Documento,this.documentTypes=t,this.personForm.setValue(o)})}openEditor(){this.isEditorOpen=!0}updatePerson(){const o=this.personForm.value;o.Id_TipoDocumento=Number(o.Id_TipoDocumento),this.personService.updatePerson(this.personForm.value).subscribe(t=>this.closeAndUpdate(t))}cleanFields(){const o={nick_name:"",Id_TipoDocumento:null,Iniciales_tip_doc:"",Num_doc_Persona:"",Nombre1:"",Nombre2:"",Apellido1:"",Apellido2:""};this.isCreateMode=!0,this.tipDocsService.getTipDocs().subscribe(t=>{this.documentTypes=t,this.personForm.setValue(o)})}createPerson(){this.personService.createPerson(this.personForm.value).subscribe(o=>this.closeAndUpdate(o))}closeAndUpdate(o){o?.error||(this.isEditorOpen=!1,this.persons$=this.personService.getPersons())}};let A=N;function S(r,o){if(1&r&&(e.TgZ(0,"div",2),e.TgZ(1,"h2"),e._uU(2),e.qZA(),e.TgZ(3,"h3"),e._uU(4),e.qZA(),e.TgZ(5,"p"),e._uU(6),e.qZA(),e.TgZ(7,"p"),e._uU(8),e.qZA(),e.TgZ(9,"p"),e._uU(10),e.qZA(),e.TgZ(11,"p"),e._uU(12),e.qZA(),e.qZA()),2&r){const t=o.$implicit;e.xp6(2),e.lnq("USUARIO: ",t.nick_name," - ",t.Apellido1," ",t.Nombre1,""),e.xp6(2),e.AsE("N\xdaMERO DE DOCUMENTO: ",t.Iniciales_tip_doc," ",t.Num_doc_Persona,""),e.xp6(2),e.hij("Primer Nombre: ",t.Nombre1,""),e.xp6(2),e.hij("Segundo Nombre: ",t.Nombre2,""),e.xp6(2),e.hij("Primer Apellido: ",t.Apellido1,""),e.xp6(2),e.hij("Segundo Apellido: ",t.Apellido2,"")}}n(A,"\u0275fac",function(t){return new(t||N)(e.Y36(C.R),e.Y36(h))}),n(A,"\u0275cmp",e.Xpm({type:N,selectors:[["app-persons"]],decls:7,vars:4,consts:[[1,"main"],["class","card",4,"ngFor","ngForOf"],[1,"btn","btn--circle","btn--float",3,"click"],[1,"material-symbols-outlined","btn__icon","btn--3h"],["class","aside",4,"ngIf"],[1,"card"],[1,"card__title"],[1,"card__title--route",3,"routerLink"],[1,"card__status"],[1,"card__content"],["type","button",1,"btn",3,"click"],[1,"material-symbols-outlined"],[1,"aside"],[3,"formGroup","submit"],["formControlName","Id_TipoDocumento"],["disabled","",3,"value",4,"ngIf"],[3,"value",4,"ngFor","ngForOf"],["formControlName","Num_doc_Persona","type","text"],["formControlName","Nombre1","type","text"],["formControlName","Nombre2","type","text"],["formControlName","Apellido1","type","text"],["formControlName","Apellido2","type","text"],["type","submit",1,"btn","btn--primary",3,"value"],["disabled","",3,"value"],[3,"value"]],template:function(t,c){1&t&&(e.TgZ(0,"main",0),e.YNc(1,P,13,11,"article",1),e.ALo(2,"async"),e.TgZ(3,"button",2),e.NdJ("click",function(){return c.cleanFields(),c.openEditor()}),e.TgZ(4,"span",3),e._uU(5,"add"),e.qZA(),e.qZA(),e.qZA(),e.YNc(6,O,27,5,"aside",4)),2&t&&(e.xp6(1),e.Q6J("ngForOf",e.lcZ(2,2,c.persons$)),e.xp6(5),e.Q6J("ngIf",c.isEditorOpen))},directives:[d.sg,d.O5,_.rH,i._Y,i.JL,i.sg,i.EJ,i.JJ,i.u,i.Fj,i.YN,i.Kr],pipes:[d.Ov],styles:[""]}));const b=class{constructor(o,t){n(this,"personService"),n(this,"activatedRoute"),n(this,"person$"),this.personService=o,this.activatedRoute=t}ngOnInit(){const{id:o}=this.activatedRoute.snapshot.params;this.person$=this.personService.getPerson(o)}};let v=b;n(v,"\u0275fac",function(t){return new(t||b)(e.Y36(C.R),e.Y36(_.gz))}),n(v,"\u0275cmp",e.Xpm({type:b,selectors:[["app-equipmentType"]],decls:3,vars:3,consts:[[1,"content","content--center"],["class","message",4,"ngFor","ngForOf"],[1,"message"]],template:function(t,c){1&t&&(e.TgZ(0,"div",0),e.YNc(1,S,13,9,"div",1),e.ALo(2,"async"),e.qZA()),2&t&&(e.xp6(1),e.Q6J("ngForOf",e.lcZ(2,1,c.person$)))},directives:[d.sg],pipes:[d.Ov],styles:[""]}));const J=[{path:"",component:A},{path:":id",component:v}],U=class{};let u=U;n(u,"\u0275fac",function(t){return new(t||U)}),n(u,"\u0275mod",e.oAB({type:U})),n(u,"\u0275inj",e.cJS({imports:[[_.Bz.forChild(J)],_.Bz]}));const y=class{};let m=y;n(m,"\u0275fac",function(t){return new(t||y)}),n(m,"\u0275mod",e.oAB({type:y})),n(m,"\u0275inj",e.cJS({imports:[[d.ez,u,i.UX]]}))}}]);