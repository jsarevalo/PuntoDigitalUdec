"use strict";var Q=Object.defineProperty,Y=(u,r,p)=>r in u?Q(u,r,{enumerable:!0,configurable:!0,writable:!0,value:p}):u[r]=p,n=(u,r,p)=>(Y(u,"symbol"!=typeof r?r+"":r,p),p);(self.webpackChunkpunto_digital=self.webpackChunkpunto_digital||[]).push([[762],{4762:(u,r,p)=>{p.r(r),p.d(r,{EquipmentModule:()=>d});var m=p(8583),q=p(2498),s=p(665),e=p(639),E=p(1249),A=p(2322),y=p(4389);const C=function(o){return["/","equipos",o]};function I(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"article",5),e.TgZ(1,"div",6),e.TgZ(2,"h2",7),e._uU(3),e.qZA(),e.TgZ(4,"small",8),e._uU(5),e.qZA(),e.qZA(),e.TgZ(6,"div",9),e.TgZ(7,"p"),e._uU(8),e.qZA(),e.qZA(),e.TgZ(9,"button",10),e.NdJ("click",function(){const b=e.CHM(t).$implicit,v=e.oxw();return v.openEditor(),v.loadData(b)}),e.TgZ(10,"span",11),e._uU(11,"edit"),e.qZA(),e._uU(12," Editar "),e.qZA(),e.qZA()}if(2&o){const t=i.$implicit;e.xp6(2),e.Q6J("routerLink",e.VKq(4,C,t.Id_Equipo)),e.xp6(1),e.Oqu(t.Descripcion),e.xp6(2),e.Oqu(t.Nombre_marca),e.xp6(3),e.hij("Serial del equipo: ",t.Serial,"")}}function F(o,i){1&o&&(e.TgZ(0,"option",20),e._uU(1,"Seleccione una opci\xf3n"),e.qZA()),2&o&&e.Q6J("value",null)}function S(o,i){if(1&o&&(e.TgZ(0,"option",21),e._uU(1),e.qZA()),2&o){const t=i.$implicit;e.Q6J("value",t.Id_marca),e.xp6(1),e.hij(" ",t.Nombre_Marca," ")}}function N(o,i){1&o&&(e.TgZ(0,"option",20),e._uU(1,"Seleccione una opci\xf3n"),e.qZA()),2&o&&e.Q6J("value",null)}function x(o,i){if(1&o&&(e.TgZ(0,"option",21),e._uU(1),e.qZA()),2&o){const t=i.$implicit;e.Q6J("value",t.Id_TipoEquipo),e.xp6(1),e.hij(" ",t.Descripcion," ")}}function J(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"aside",12),e.TgZ(1,"form",13),e.NdJ("submit",function(){e.CHM(t);const a=e.oxw();return a.isCreateMode?a.createEquipment():a.updateEquipment()}),e.TgZ(2,"fieldset"),e.TgZ(3,"legend"),e.TgZ(4,"h2"),e._uU(5),e.qZA(),e.qZA(),e.TgZ(6,"label"),e._uU(7," Marca "),e.TgZ(8,"select",14),e.YNc(9,F,2,1,"option",15),e.YNc(10,S,2,2,"option",16),e.qZA(),e.qZA(),e.TgZ(11,"label"),e._uU(12," Tipo de equipo "),e.TgZ(13,"select",17),e.YNc(14,N,2,1,"option",15),e.YNc(15,x,2,2,"option",16),e.qZA(),e.qZA(),e.TgZ(16,"label"),e._uU(17," Serial "),e._UZ(18,"input",18),e.qZA(),e._UZ(19,"input",19),e.qZA(),e.qZA(),e.qZA()}if(2&o){const t=e.oxw();e.xp6(1),e.Q6J("formGroup",t.equipmentForm),e.xp6(4),e.hij("",t.isCreateMode?"Crear":"Editar"," equipo "),e.xp6(4),e.Q6J("ngIf",t.isCreateMode),e.xp6(1),e.Q6J("ngForOf",t.brands),e.xp6(4),e.Q6J("ngIf",t.isCreateMode),e.xp6(1),e.Q6J("ngForOf",t.equipmentTypes),e.xp6(4),e.Q6J("value",t.isCreateMode?"Crear":"Editar")}}const f=class{constructor(i,t,c){n(this,"equipmentService"),n(this,"equipmentTypeService"),n(this,"brandService"),n(this,"equipments$"),n(this,"equipmentTypes"),n(this,"brands"),n(this,"equipmentForm",new s.cw({})),n(this,"isEditorOpen",!1),n(this,"isCreateMode",!1),this.equipmentService=i,this.equipmentTypeService=t,this.brandService=c}ngOnInit(){this.equipments$=this.equipmentService.getEquipments(),this.equipmentForm=new s.cw({Id_Equipo:new s.NI(0),Id_TipoEquipo:new s.NI(0),Id_marca:new s.NI(0),Serial:new s.NI(""),Descripcion:new s.NI(""),Nombre_marca:new s.NI("")})}loadData(i){this.isCreateMode=!1,this.equipmentTypeService.getEquipmentTypes().subscribe(t=>{const c=t.find(a=>a.Descripcion===i.Descripcion);i.Id_TipoEquipo=c.Id_TipoEquipo,this.equipmentTypes=t,this.brandService.getBrands().subscribe(a=>{const b=a.find(v=>v.Nombre_Marca===i.Nombre_marca);i.Id_marca=b.Id_marca,this.brands=a,this.equipmentForm.setValue(i)})})}openEditor(){this.isEditorOpen=!0}updateEquipment(){const i=this.equipmentForm.value;i.Id_TipoDocumento=Number(i.Id_TipoDocumento),this.equipmentService.updateEquipment(this.equipmentForm.value).subscribe(t=>this.closeAndUpdate(t))}cleanFields(){const i={Id_Equipo:0,Id_TipoEquipo:null,Id_marca:null,Serial:"",Descripcion:"",Nombre_marca:""};this.isCreateMode=!0,this.equipmentTypeService.getEquipmentTypes().subscribe(t=>{this.equipmentTypes=t,this.brandService.getBrands().subscribe(c=>{this.brands=c}),this.equipmentForm.setValue(i)})}createEquipment(){this.equipmentService.createEquipment(this.equipmentForm.value).subscribe(i=>this.closeAndUpdate(i))}closeAndUpdate(i){i?.error||(this.isEditorOpen=!1,this.equipments$=this.equipmentService.getEquipments())}};let _=f;function U(o,i){if(1&o&&(e.TgZ(0,"div",2),e.TgZ(1,"h2"),e._uU(2),e.qZA(),e.TgZ(3,"h3"),e._uU(4),e.qZA(),e.TgZ(5,"p"),e._uU(6),e.qZA(),e.qZA()),2&o){const t=i.$implicit;e.xp6(2),e.hij("SERIAL: ",t.Serial,""),e.xp6(2),e.hij("MARCA: ",t.Nombre_marca,""),e.xp6(2),e.hij("Descripci\xf3n: ",t.Descripcion,"")}}n(_,"\u0275fac",function(t){return new(t||f)(e.Y36(E.Q),e.Y36(A.X),e.Y36(y.c))}),n(_,"\u0275cmp",e.Xpm({type:f,selectors:[["app-equipments"]],decls:7,vars:4,consts:[[1,"main"],["class","card",4,"ngFor","ngForOf"],[1,"btn","btn--circle","btn--float",3,"click"],[1,"material-symbols-outlined","btn__icon","btn--3h"],["class","aside",4,"ngIf"],[1,"card"],[1,"card__title"],[1,"card__title--route",3,"routerLink"],[1,"card__status"],[1,"card__content"],["type","button",1,"btn",3,"click"],[1,"material-symbols-outlined"],[1,"aside"],[3,"formGroup","submit"],["formControlName","Id_marca"],["disabled","",3,"value",4,"ngIf"],[3,"value",4,"ngFor","ngForOf"],["formControlName","Id_TipoEquipo"],["formControlName","Serial","type","text"],["type","submit",1,"btn","btn--primary",3,"value"],["disabled","",3,"value"],[3,"value"]],template:function(t,c){1&t&&(e.TgZ(0,"main",0),e.YNc(1,I,13,6,"article",1),e.ALo(2,"async"),e.TgZ(3,"button",2),e.NdJ("click",function(){return c.cleanFields(),c.openEditor()}),e.TgZ(4,"span",3),e._uU(5,"add"),e.qZA(),e.qZA(),e.qZA(),e.YNc(6,J,20,7,"aside",4)),2&t&&(e.xp6(1),e.Q6J("ngForOf",e.lcZ(2,2,c.equipments$)),e.xp6(5),e.Q6J("ngIf",c.isEditorOpen))},directives:[m.sg,m.O5,q.rH,s._Y,s.JL,s.sg,s.EJ,s.JJ,s.u,s.Fj,s.YN,s.Kr],pipes:[m.Ov],styles:[""]}));const T=class{constructor(i,t){n(this,"equipmentService"),n(this,"activatedRoute"),n(this,"equipment$"),this.equipmentService=i,this.activatedRoute=t}ngOnInit(){const{id:i}=this.activatedRoute.snapshot.params;this.equipment$=this.equipmentService.getEquipment(i)}};let Z=T;n(Z,"\u0275fac",function(t){return new(t||T)(e.Y36(E.Q),e.Y36(q.gz))}),n(Z,"\u0275cmp",e.Xpm({type:T,selectors:[["app-loan"]],decls:3,vars:3,consts:[[1,"content","content--center"],["class","message",4,"ngFor","ngForOf"],[1,"message"]],template:function(t,c){1&t&&(e.TgZ(0,"div",0),e.YNc(1,U,7,3,"div",1),e.ALo(2,"async"),e.qZA()),2&t&&(e.xp6(1),e.Q6J("ngForOf",e.lcZ(2,1,c.equipment$)))},directives:[m.sg],pipes:[m.Ov],styles:[""]}));const O=[{path:"",component:_},{path:":id",component:Z}],g=class{};let l=g;n(l,"\u0275fac",function(t){return new(t||g)}),n(l,"\u0275mod",e.oAB({type:g})),n(l,"\u0275inj",e.cJS({imports:[[q.Bz.forChild(O)],q.Bz]}));const h=class{};let d=h;n(d,"\u0275fac",function(t){return new(t||h)}),n(d,"\u0275mod",e.oAB({type:h})),n(d,"\u0275inj",e.cJS({imports:[[m.ez,l,s.UX]]}))}}]);